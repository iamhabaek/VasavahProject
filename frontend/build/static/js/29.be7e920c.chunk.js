(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[29],{1228:function(e,a,t){"use strict";t.r(a);var r=t(4),n=t.n(r),l=t(11),c=t(25),s=t(0),i=t.n(s),m=t(109),o=t(34),d=t(872),u=t(51),h=t(873),f=t(22),b=t(947),v=t(10),p=t(870),N=t(315),E=t(877),g=t(20),j=t.n(g),x=h.object().shape({teacherName:h.string().required("Teacher Name is required"),birthDate:h.date().required("Birth Date is required"),email:h.string().email().required("Email is required"),address:h.string().required("Address is required"),phone:h.string().required("Phone number is required"),subjects:h.array().required("Subjects is required"),gender:h.string().required("Gender is required")});a.default=function(){var e=Object(s.useContext)(u.b),a=e.teachers,t=e.user,r=e.subjects,h=e.dispatch,g=e.token,w=Object(o.g)(),y=Object(o.i)().id,O=Object(s.useState)(!1),q=Object(c.a)(O,2),k=q[0],C=q[1],_=a.find((function(e){return e.id===y})),B=r.map((function(e){return{value:e.id,label:e.subjectName}})),D=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],S=function(){var e=Object(l.a)(n.a.mark((function e(a){var r,c,s,i,m,o,d,u,f,b,N;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.teacherName,c=a.birthDate,s=a.address,i=a.phone,m=a.subjects,o=a.gender,d=a.email,u=a.created,f=[],m.map((function(e){f.push(e)})),b={id:y,teacherName:r,address:s,email:d,phone:i,subjects:f,gender:o,birthDate:c,created:u,user:t.email,modified:Date.now()},N={id:Object(p.a)(),created:Date.now(),user:t.email,isViewed:!1,action:"update",content:{name:r,location:"teacher",description:"click to see more information"}},j.a.fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Save",denyButtonText:"Don't save"}).then(function(){var e=Object(l.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=12;break}return e.prev=1,C(!0),e.next=5,Object(v.lb)(y,b,N,g)(h);case 5:return e.next=7,j.a.fire("Updated!","Teacher has been updated.","success");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}()),C(!1);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.fire({title:"Confirm to cancel",text:"Are you sure you want to cancel? If you cancel, all information that you have entered will be lost.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){e.isConfirmed&&w.push("/teachers/teachersList")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(s.Fragment,null,i.a.createElement(m.a,{routeSegments:[{name:"Home",path:"/"},{name:"Teachers List",path:"/teachers/teachersList"},{name:"Edit Teacher"}]}),_&&i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-header"},i.a.createElement("strong",null,"Please fill all the required (",i.a.createElement("span",{className:"text-danger"},"*"),") fields")),i.a.createElement(d.b,{initialValues:_,validationSchema:x,onSubmit:S},(function(e){var a=e.values,t=e.errors,r=e.touched,n=e.handleChange,l=e.handleBlur,c=e.handleSubmit;e.isSubmitting,e.setFieldValue;return i.a.createElement("form",{className:"needs-validation",onSubmit:c,noValidate:!0},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:Object(f.a)({"form-group col-md-6":!0,"invalid-field":t.teacherName&&r.teacherName})},i.a.createElement("label",{htmlFor:"teacherName",className:"ul-form__label"},"Teacher Name (",i.a.createElement("span",{className:"text-danger"},"*"),")"),i.a.createElement("input",{type:"text",className:"form-control",id:"teacherName",placeholder:"Teacher Name",name:"teacherName",value:a.teacherName,onChange:n,onBlur:l,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},t.teacherName))),i.a.createElement("div",{className:"custom-separator"}),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:Object(f.a)({"form-group col-md-6":!0,"invalid-field":t.birthDate&&r.birthDate})},i.a.createElement("label",{htmlFor:"age",className:"ul-form__label"},"Birth Date (",i.a.createElement("span",{className:"text-danger"},"*"),")"),i.a.createElement("input",{className:"form-control",type:"date",name:"birthDate",onChange:n,value:a.birthDate}),i.a.createElement("div",{className:"invalid-feedback"},t.birthDate)),i.a.createElement("div",{className:Object(f.a)({"form-group col-md-6":!0,"invalid-field":t.address&&r.address})},i.a.createElement("label",{htmlFor:"address",className:"ul-form__label"},"Address (",i.a.createElement("span",{className:"text-danger"},"*"),")"),i.a.createElement("input",{type:"text",className:"form-control",id:"address",placeholder:"Address",name:"address",value:a.address,onChange:n,onBlur:l,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},t.address))),i.a.createElement("div",{className:"custom-separator"}),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:Object(f.a)({"form-group col-md-6":!0,"invalid-field":t.phone&&r.phone})},i.a.createElement("label",{htmlFor:"phone",className:"ul-form__label"},"Phone number (",i.a.createElement("span",{className:"text-danger"},"*"),")"),i.a.createElement("input",{type:"text",className:"form-control",id:"phone",placeholder:"Phone number",name:"phone",value:a.phone,onChange:n,onBlur:l,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},t.phone)),i.a.createElement("div",{className:Object(f.a)({"form-group col-md-6":!0,"invalid-field":t.email&&r.email})},i.a.createElement("label",{htmlFor:"phone",className:"ul-form__label"},"Email Address (",i.a.createElement("span",{className:"text-danger"},"*"),")"),i.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Email Address",name:"email",value:a.email,onChange:n,onBlur:l,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},t.email))),i.a.createElement("div",{className:"custom-separator"}),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:Object(f.a)({"form-group col-md-6":!0,"invalid-field":t.gender&&r.gender})}," ",i.a.createElement("label",{className:"ul-form__label"},"Gender (",i.a.createElement("span",{className:"text-danger"},"*"),")"),D.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(d.a,{className:"mr-1",type:"radio",name:"gender",value:e.value,checked:a.gender===e.value}),i.a.createElement("label",{className:"ul-form__label",htmlFor:"gender"},e.label))})),i.a.createElement("div",{className:"invalid-feedback"},t.gender)),i.a.createElement("div",{className:Object(f.a)({"form-group col-md-6":!0,"invalid-field":t.subjects&&r.subjects})},i.a.createElement("label",{htmlFor:"subjects",className:"ul-form__label"},"Subjects (",i.a.createElement("span",{className:"text-danger"},"*"),")"),i.a.createElement(d.a,{name:"subjects",component:b.a,options:B,value:a.subjects,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},"Subjects is required")))),i.a.createElement("div",{className:"card-footer"},i.a.createElement("div",{className:"mc-footer"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12 "},i.a.createElement(N.a,{disabled:k,variant:"success",type:"submit",className:"mr-2"},k&&i.a.createElement(E.a,{as:"span",variant:"light",size:"sm",role:"status","aria-hidden":"true",animation:"border",className:"mr-1"}),"Save Changes"),i.a.createElement(N.a,{onClick:F,variant:"danger"},"Cancel"))))))}))))}},870:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,a){return e+=(a&=63)<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a>62?"-":"_"}),"")}},877:function(e,a,t){"use strict";var r=t(3),n=t(6),l=t(15),c=t.n(l),s=t(0),i=t.n(s),m=t(23),o=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.variant,s=e.animation,o=e.size,d=e.children,u=e.as,h=void 0===u?"div":u,f=e.className,b=Object(n.a)(e,["bsPrefix","variant","animation","size","children","as","className"]),v=(t=Object(m.b)(t,"spinner"))+"-"+s;return i.a.createElement(h,Object(r.a)({ref:a},b,{className:c()(f,v,o&&v+"-"+o,l&&"text-"+l)}),d)}));o.displayName="Spinner",a.a=o},947:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var r=t(25),n=t(0),l=t.n(n),c=t(875),s=t(872);function i(e){var a=Object(s.c)(e.field.name),t=Object(r.a)(a,3),n=(t[0],t[1]),i=t[2],m=i.setValue,o=i.setTouched;console.log(n),console.log(e.options);return l.a.createElement(c.a,Object.assign({},e,{value:null===n||void 0===n?void 0:n.value,isMulti:!0,onChange:function(e){m(e)},onBlur:o}))}}}]);
//# sourceMappingURL=29.be7e920c.chunk.js.map