{"version":3,"sources":["app/views/reports/ReportData.js","app/views/reports/GenerateReport.js"],"names":["styles","StyleSheet","create","page","backgroundColor","color","section","margin","padding","body","paddingTop","paddingBottom","title","fontSize","textAlign","header","marginBottom","marginLeft","fontWeight","thead","display","flexDirection","border","marginHorizontal","marginTop","tbody","borderBottom","borderLeft","borderRight","th","width","tr","ReportData","classroomSlot","classrooms","students","teachers","studentsId","subjects","subject","teacher","resourceId","startTime","endTime","classroom","find","data","id","teacherObj","studentsList","filter","student","studentId","style","alignItems","justifyContent","roomName","teacherName","label","map","name","address","phone","gender","course","yearLevel","status","GenerateReport","useContext","AppContext","classroomSlots","useParams","history","useHistory","handleClick","setTimeout","push","console","log","routeSegments","path","document","fileName","className","loading","onClick"],"mappings":"8JAIMA,G,MAASC,IAAWC,OAAO,CAC/BC,KAAM,CACJC,gBAAiB,UACjBC,MAAO,SAETC,QAAS,CACPC,OAAQ,GACRC,QAAS,IAEXC,KAAM,CACJC,WAAY,GACZC,cAAe,IAEjBC,MAAO,CACLC,SAAU,GACVC,UAAW,UAEbC,OAAQ,CACNF,SAAU,GACVG,aAAc,GACdC,WAAY,EACZH,UAAW,OACXT,MAAO,QACPa,WAAY,QAEdC,MAAO,CACLC,QAAS,OACTC,cAAe,MACfC,OAAQ,kBACRC,iBAAkB,GAClBf,QAAS,GACTgB,UAAW,IAEbC,MAAO,CACLL,QAAS,OACTC,cAAe,MACfK,aAAc,kBACdC,WAAY,kBACZC,YAAa,kBACbL,iBAAkB,GAClBf,QAAS,IAGXqB,GAAI,CACFhB,SAAU,GACVK,WAAY,OACZJ,UAAW,SACXT,MAAO,QACPyB,MAAO,MACPvB,OAAQ,GAEVwB,GAAI,CACFlB,SAAU,EACVK,WAAY,OACZK,iBAAkB,OAClBT,UAAW,SACXgB,MAAO,MACPzB,MAAO,QACPE,OAAQ,MAoFGyB,EAjFI,SAAC,GAMb,IALLC,EAKI,EALJA,cACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,SACAC,EAEI,EAFJA,SAGQC,GADJ,EADJC,SAGEL,EADMI,YAAYE,EAClBN,EADkBM,QAASC,EAC3BP,EAD2BO,QAASC,EACpCR,EADoCQ,WAAYC,EAChDT,EADgDS,UAAWC,EAC3DV,EAD2DU,QAGvDC,EAAYV,EAAWW,MAAK,SAACC,GAAD,OAAUA,EAAKC,KAAON,KAClDO,EAAaZ,EAASS,MAAK,SAACC,GAAD,OAAUA,EAAKC,KAAOP,KACjDS,EAAed,EAASe,QAAO,SAACC,GACpC,OAAOd,EAAWQ,MAAK,SAACO,GACtB,OAAOD,EAAQJ,KAAOK,QAG1B,OACE,kBAAC,IAAD,KACGnB,GAAiBW,GAAaI,GAAcX,GAC3C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEgB,MAAO,CACLjC,QAAS,OACThB,gBAAiB,UACjB0B,MAAO,OACPwB,WAAY,SACZC,eAAgB,SAChBvC,aAAc,GACdR,QAAS,KAGX,kBAAC,IAAD,CAAM6C,MAAO,CAAExC,SAAU,GAAIR,MAAO,QAASS,UAAW,WAAxD,gBAIF,kBAAC,IAAD,CACEuC,MAAO,CACLjC,QAAS,OACTC,cAAe,SACfE,iBAAkB,GAClBC,UAAW,KAGb,kBAAC,IAAD,CAAM6B,MAAOrD,EAAOe,QAApB,SACS6B,GAAaA,EAAUY,UAEhC,kBAAC,IAAD,CAAMH,MAAOrD,EAAOe,QAApB,mBACY2B,EADZ,cAC2BC,IAE3B,kBAAC,IAAD,CAAMU,MAAOrD,EAAOe,QAApB,YAAsCiC,EAAWS,aACjD,kBAAC,IAAD,CAAMJ,MAAOrD,EAAOe,QAApB,YAAsCwB,EAAQmB,QAEhD,kBAAC,IAAD,CAAML,MAAOrD,EAAOmB,OAClB,kBAAC,IAAD,CAAMkC,MAAOrD,EAAO6B,IAApB,gBACA,kBAAC,IAAD,CAAMwB,MAAOrD,EAAO6B,IAApB,WACA,kBAAC,IAAD,CAAMwB,MAAOrD,EAAO6B,IAApB,SACA,kBAAC,IAAD,CAAMwB,MAAOrD,EAAO6B,IAApB,UACA,kBAAC,IAAD,CAAMwB,MAAOrD,EAAO6B,IAApB,UACA,kBAAC,IAAD,CAAMwB,MAAOrD,EAAO6B,IAApB,cACA,kBAAC,IAAD,CAAMwB,MAAOrD,EAAO6B,IAApB,WAGDoB,GACCA,EAAaU,KAAI,SAACR,GAAD,OACf,kBAAC,IAAD,CAAME,MAAOrD,EAAOyB,OAClB,kBAAC,IAAD,CAAM4B,MAAOrD,EAAO+B,IAAKoB,EAAQS,MACjC,kBAAC,IAAD,CAAMP,MAAOrD,EAAO+B,IAAKoB,EAAQU,SACjC,kBAAC,IAAD,CAAMR,MAAOrD,EAAO+B,IAAKoB,EAAQW,OACjC,kBAAC,IAAD,CAAMT,MAAOrD,EAAO+B,IAAKoB,EAAQY,QACjC,kBAAC,IAAD,CAAMV,MAAOrD,EAAO+B,IAAKoB,EAAQa,QACjC,kBAAC,IAAD,CAAMX,MAAOrD,EAAO+B,IAAKoB,EAAQc,WACjC,kBAAC,IAAD,CAAMZ,MAAOrD,EAAO+B,IAAKoB,EAAQe,e,iBC/DlCC,UAnEQ,WAAO,IAAD,EAEzBC,qBAAWC,KADLnC,EADmB,EACnBA,WAAYC,EADO,EACPA,SAAUmC,EADH,EACGA,eAAgBlC,EADnB,EACmBA,SAAUE,EAD7B,EAC6BA,SAGhDS,EAAOwB,cAAPxB,GACFyB,EAAUC,cACVC,EAAc,WAClBC,YAAW,WACTH,EAAQI,KAAK,mCACZ,MAEC3C,EAAgBqC,EAAezB,MACnC,SAACZ,GAAD,OAAmBA,EAAcc,KAAOA,KAG1C,OADA8B,QAAQC,IAAI7C,GAEV,kBAAC,WAAD,KACE,kBAAC,IAAD,CACE8C,cAAe,CACb,CAAEnB,KAAM,OAAQoB,KAAM,KACtB,CACEpB,KAAM,aACNoB,KAAM,2BAER,CAAEpB,KAAM,eAGZ,kBAAC,IAAD,CACEqB,SACEhD,GACE,kBAAC,EAAD,CACEC,WAAYA,EACZC,SAAUA,EACVF,cAAeA,EACfG,SAAUA,EACVE,SAAUA,IAIhB4C,SAAS,OACTC,UAAU,UAET,qBAAGC,QAEA,4BAAQD,UAAU,wBAAlB,uBAIA,4BAAQA,UAAU,uBAAuBE,QAASX,GAAlD,oBAMLzC,GACC,kBAAC,EAAD,CACEC,WAAYA,EACZC,SAAUA,EACVF,cAAeA,EACfG,SAAUA,EACVE,SAAUA,O","file":"static/js/42.6abc2fac.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Document, Page, Text, View, StyleSheet } from \"@react-pdf/renderer\";\r\nimport { update } from \"lodash\";\r\n\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    backgroundColor: \"#d11fb6\",\r\n    color: \"white\",\r\n  },\r\n  section: {\r\n    margin: 10,\r\n    padding: 10,\r\n  },\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    textAlign: \"center\",\r\n  },\r\n  header: {\r\n    fontSize: 12,\r\n    marginBottom: 10,\r\n    marginLeft: 0,\r\n    textAlign: \"left\",\r\n    color: \"black\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  thead: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    border: \"1pt solid black\",\r\n    marginHorizontal: 25,\r\n    padding: 10,\r\n    marginTop: 20,\r\n  },\r\n  tbody: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    borderBottom: \"1pt solid black\",\r\n    borderLeft: \"1pt solid black\",\r\n    borderRight: \"1pt solid black\",\r\n    marginHorizontal: 25,\r\n    padding: 10,\r\n  },\r\n\r\n  th: {\r\n    fontSize: 10,\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\",\r\n    color: \"black\",\r\n    width: \"22%\",\r\n    margin: 0,\r\n  },\r\n  tr: {\r\n    fontSize: 8,\r\n    fontWeight: \"bold\",\r\n    marginHorizontal: \"auto\",\r\n    textAlign: \"center\",\r\n    width: \"20%\",\r\n    color: \"black\",\r\n    margin: 0,\r\n  },\r\n});\r\nconst ReportData = ({\r\n  classroomSlot,\r\n  classrooms,\r\n  students,\r\n  teachers,\r\n  subjects,\r\n}) => {\r\n  const { studentsId, subject, teacher, resourceId, startTime, endTime } =\r\n    classroomSlot;\r\n\r\n  const classroom = classrooms.find((data) => data.id === resourceId);\r\n  const teacherObj = teachers.find((data) => data.id === teacher);\r\n  const studentsList = students.filter((student) => {\r\n    return studentsId.find((studentId) => {\r\n      return student.id === studentId;\r\n    });\r\n  });\r\n  return (\r\n    <Document>\r\n      {classroomSlot && classroom && teacherObj && studentsId && (\r\n        <Page>\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              backgroundColor: \"#663399\",\r\n              width: \"100%\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              marginBottom: 15,\r\n              padding: 20,\r\n            }}\r\n          >\r\n            <Text style={{ fontSize: 20, color: \"white\", textAlign: \"center\" }}>\r\n              INFORMATICS\r\n            </Text>\r\n          </View>\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              marginHorizontal: 25,\r\n              marginTop: 20,\r\n            }}\r\n          >\r\n            <Text style={styles.header}>\r\n              Room: {classroom && classroom.roomName}\r\n            </Text>\r\n            <Text style={styles.header}>\r\n              Time: {`${startTime} - ${endTime}`}\r\n            </Text>\r\n            <Text style={styles.header}>Teacher: {teacherObj.teacherName}</Text>\r\n            <Text style={styles.header}>Subject: {subject.label}</Text>\r\n          </View>\r\n          <View style={styles.thead}>\r\n            <Text style={styles.th}>Student Name</Text>\r\n            <Text style={styles.th}>Address</Text>\r\n            <Text style={styles.th}>Phone</Text>\r\n            <Text style={styles.th}>Gender</Text>\r\n            <Text style={styles.th}>Course</Text>\r\n            <Text style={styles.th}>Year Level</Text>\r\n            <Text style={styles.th}>Status</Text>\r\n          </View>\r\n\r\n          {studentsList &&\r\n            studentsList.map((student) => (\r\n              <View style={styles.tbody}>\r\n                <Text style={styles.tr}>{student.name}</Text>\r\n                <Text style={styles.tr}>{student.address}</Text>\r\n                <Text style={styles.tr}>{student.phone}</Text>\r\n                <Text style={styles.tr}>{student.gender}</Text>\r\n                <Text style={styles.tr}>{student.course}</Text>\r\n                <Text style={styles.tr}>{student.yearLevel}</Text>\r\n                <Text style={styles.tr}>{student.status}</Text>\r\n              </View>\r\n            ))}\r\n        </Page>\r\n      )}\r\n    </Document>\r\n  );\r\n};\r\n\r\nexport default ReportData;\r\n","import React, { useContext, Fragment } from \"react\";\r\nimport AppContext from \"app/appContext\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport ReportData from \"./ReportData\";\r\nimport { Breadcrumb } from \"@gull\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst GenerateReport = () => {\r\n  const { classrooms, students, classroomSlots, teachers, subjects } =\r\n    useContext(AppContext);\r\n\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const handleClick = () => {\r\n    setTimeout(() => {\r\n      history.push(\"/classrooms/classrooms-assign\");\r\n    }, 5000);\r\n  };\r\n  const classroomSlot = classroomSlots.find(\r\n    (classroomSlot) => classroomSlot.id === id\r\n  );\r\n  console.log(classroomSlot);\r\n  return (\r\n    <Fragment>\r\n      <Breadcrumb\r\n        routeSegments={[\r\n          { name: \"Home\", path: \"/\" },\r\n          {\r\n            name: \"My Classes\",\r\n            path: \"/classrooms/my-classes/\",\r\n          },\r\n          { name: \"Generate\" },\r\n        ]}\r\n      />\r\n      <PDFDownloadLink\r\n        document={\r\n          classroomSlot && (\r\n            <ReportData\r\n              classrooms={classrooms}\r\n              students={students}\r\n              classroomSlot={classroomSlot}\r\n              teachers={teachers}\r\n              subjects={subjects}\r\n            />\r\n          )\r\n        }\r\n        fileName=\"Test\"\r\n        className=\"mb-10\"\r\n      >\r\n        {({ loading }) =>\r\n          loading ? (\r\n            <button className=\"btn btn-primary mb-5\">\r\n              Loading document...\r\n            </button>\r\n          ) : (\r\n            <button className=\"btn btn-primary mb-5\" onClick={handleClick}>\r\n              Download PDF!\r\n            </button>\r\n          )\r\n        }\r\n      </PDFDownloadLink>\r\n      {classroomSlot && (\r\n        <ReportData\r\n          classrooms={classrooms}\r\n          students={students}\r\n          classroomSlot={classroomSlot}\r\n          teachers={teachers}\r\n          subjects={subjects}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GenerateReport;\r\n"],"sourceRoot":""}