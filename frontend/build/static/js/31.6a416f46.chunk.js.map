{"version":3,"sources":["app/views/courses/AddCourse.js","../node_modules/nanoid/index.browser.js","../node_modules/react-bootstrap/esm/Spinner.js"],"names":["basicFormSchema","yup","shape","courseName","required","yearsToFinish","AddCourse","useContext","AppContext","dispatch","token","user","history","useHistory","useState","loading","setLoading","handleSubmit","values","actions","a","course","id","nanoid","Number","created","Date","now","notifications","email","isViewed","action","content","name","location","description","addCourse","handleCancel","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","push","routeSegments","path","className","initialValues","validationSchema","onSubmit","errors","touched","handleChange","handleBlur","isSubmitting","noValidate","classList","htmlFor","type","placeholder","value","onChange","onBlur","disabled","size","variant","animation","onClick","crypto","getRandomValues","Uint8Array","reduce","byte","toString","toUpperCase","Spinner","React","forwardRef","_ref","ref","bsPrefix","children","_ref$as","as","Component","props","_objectWithoutPropertiesLoose","bsSpinnerPrefix","useBootstrapPrefix","createElement","_extends","classNames","displayName"],"mappings":"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","file":"static/js/31.6a416f46.chunk.js","sourcesContent":["import React, { useState, useContext, Fragment } from \"react\";\r\nimport { Breadcrumb } from \"@gull\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { Formik } from \"formik\";\r\nimport AppContext from \"app/appContext\";\r\nimport * as yup from \"yup\";\r\nimport { classList } from \"@utils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Spinner } from \"react-bootstrap\";\r\nimport { addCourse } from \"app/reducers/actions/ClassroomActions\";\r\nimport Swal from \"sweetalert2\";\r\n// validation schema\r\nconst basicFormSchema = yup.object().shape({\r\n  courseName: yup.string().required(\"Course Name is required\"),\r\n  yearsToFinish: yup.string().required(\"Number Of Years is required\"),\r\n});\r\n\r\nconst AddCourse = () => {\r\n  // States from context provider\r\n  const { dispatch, token, user } = useContext(AppContext);\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState();\r\n  // submit data function\r\n  const handleSubmit = async (values, actions) => {\r\n    // Destructure values\r\n    const { courseName, yearsToFinish } = values;\r\n\r\n    // course object\r\n    const course = {\r\n      id: nanoid(),\r\n      courseName: courseName,\r\n      yearsToFinish: Number(yearsToFinish),\r\n      created: Date.now(),\r\n    };\r\n    const notifications = {\r\n      id: nanoid(),\r\n      created: Date.now(),\r\n      user: user.email,\r\n      isViewed: false,\r\n      action: \"add\",\r\n      content: {\r\n        name: courseName,\r\n        location: \"course\",\r\n        description: \"click to see more information\",\r\n      },\r\n    };\r\n    setLoading(true);\r\n    await addCourse(course, notifications, token)(dispatch);\r\n    setLoading(false);\r\n  };\r\n  const handleCancel = async () => {\r\n    Swal.fire({\r\n      title: \"Confirm to cancel\",\r\n      text: \"Are you sure you want to cancel? If you cancel, all information that you have entered will be lost.\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        history.push(\"/courses/courses-list\");\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <Breadcrumb\r\n        routeSegments={[{ name: \"Home\", path: \"/\" }, { name: \"Add Course\" }]}\r\n      />\r\n\r\n      <div className=\"col-md-12\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <strong>\r\n              Please fill all the required (\r\n              <span className=\"text-danger\">*</span>) fields\r\n            </strong>\r\n          </div>\r\n\r\n          <Formik\r\n            initialValues={{\r\n              courseName: \"\",\r\n              yearsToFinish: \"\",\r\n            }}\r\n            validationSchema={basicFormSchema}\r\n            onSubmit={handleSubmit}\r\n          >\r\n            {({\r\n              values,\r\n              errors,\r\n              touched,\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit,\r\n              isSubmitting,\r\n            }) => {\r\n              return (\r\n                <form\r\n                  className=\"needs-validation\"\r\n                  onSubmit={handleSubmit}\r\n                  noValidate\r\n                >\r\n                  <div className=\"card-body\">\r\n                    <div className=\"form-row\">\r\n                      <div\r\n                        className={classList({\r\n                          \"col-md-6 mb-3\": true,\r\n                          \"valid-field\":\r\n                            !errors.courseName && touched.courseName,\r\n                          \"invalid-field\":\r\n                            errors.courseName && touched.courseName,\r\n                        })}\r\n                      >\r\n                        <label htmlFor=\"courseName\">\r\n                          Course Name (<span className=\"text-danger\">*</span>)\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"courseName\"\r\n                          placeholder=\"Course Name\"\r\n                          name=\"courseName\"\r\n                          value={values.courseName}\r\n                          onChange={handleChange}\r\n                          onBlur={handleBlur}\r\n                          required\r\n                        />\r\n                        <div className=\"invalid-feedback\">\r\n                          Course name is required\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        className={classList({\r\n                          \"col-md-6 mb-3\": true,\r\n                          \"valid-field\":\r\n                            !errors.yearsToFinish && touched.yearsToFinish,\r\n                          \"invalid-field\":\r\n                            errors.yearsToFinish && touched.yearsToFinish,\r\n                        })}\r\n                      >\r\n                        <label htmlFor=\"validationCustom202\">\r\n                          Years To Finish (\r\n                          <span className=\"text-danger\">*</span>)\r\n                        </label>\r\n                        <select\r\n                          className=\"form-control\"\r\n                          value={values.yearsToFinish}\r\n                          onChange={handleChange}\r\n                          name=\"yearsToFinish\"\r\n                          id=\"yearsToFinish\"\r\n                        >\r\n                          <option value=\"\">Select Here</option>\r\n                          <option value=\"4\">4 Years</option>\r\n                          <option value=\"5\">5 Years</option>\r\n                        </select>\r\n                        <div className=\"invalid-feedback\">\r\n                          Years To Finish is required\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"card-footer\">\r\n                    <div className=\"mc-footer\">\r\n                      <Button\r\n                        disabled={loading}\r\n                        className=\" text-12 btn btn-primary mr-2\"\r\n                        type=\"submit\"\r\n                      >\r\n                        Submit\r\n                        {loading && (\r\n                          <Spinner\r\n                            size=\"sm\"\r\n                            variant=\"light\"\r\n                            className=\"mr-1\"\r\n                            animation=\"border\"\r\n                          />\r\n                        )}\r\n                      </Button>\r\n                      <Button onClick={handleCancel} variant=\"danger\">\r\n                        Cancel\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default AddCourse;\r\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Spinner = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"children\", \"as\", \"className\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = bsPrefix + \"-\" + animation;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsSpinnerPrefix, size && bsSpinnerPrefix + \"-\" + size, variant && \"text-\" + variant)\n  }), children);\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;"],"sourceRoot":""}