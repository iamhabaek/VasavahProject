(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[22],{1235:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),c=a(8),s=a(11),i=a(25),l=a(0),o=a.n(l),u=a(109),m=a(34),d=a(315),f=a(877),b=a(872),v=a(51),h=a(873),p=a(22),E=a(911),N=a(10),g=a(870),j=a(20),y=a.n(j),O=h.object().shape({studentId:h.array().required("Student is required")});t.default=function(){var e=Object(l.useContext)(v.b),t=e.classrooms,a=e.students,n=e.teachers,h=e.subjects,j=e.classroomSlots,w=e.dispatch,S=e.user,I=e.token,x=Object(m.g)(),C=Object(m.i)().id,k=Object(l.useState)(!1),T=Object(i.a)(k,2),B=T[0],V=T[1],q=j.find((function(e){return e.id===C})),A=q&&a.filter((function(e){return e.course===q.course.label&&e.yearLevel===q.yearLevel.label})),L=A&&A.filter((function(e){return!q.studentsId.includes(e.id)}));console.log(L);var z=L&&L.map((function(e){return{value:e.id,label:"".concat(e.name)}})),F=function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.studentId,n=Object(c.a)(q.studentsId),a.map((function(e){return n.push(e.value)})),s={id:Object(g.a)(),created:Date.now(),user:S.email,isViewed:!1,action:"assign",content:{name:"students",location:"assign",description:"click to see more information"}},V(!0),e.next=7,Object(N.O)(C,n,s,I)(w);case 7:V(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){y.a.fire({title:"Confirm to cancel",text:"Are you sure you want to cancel? If you cancel, all information that you have entered will be lost.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){e.isConfirmed&&x.push("/classrooms/my-classes")}))};return o.a.createElement(l.Fragment,null,o.a.createElement(u.a,{routeSegments:[{name:"Home",path:"/"},{name:"Assign and Generate",path:"/classrooms/classrooms-assign"},{name:"Assign Student"}]}),h&&t&&n&&A&&q&&j&&a&&z&&o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"d-flex flex-row justify-content-between p-2"},o.a.createElement("h5",null,"Room:"," ",t.find((function(e){return e.id===q.classroomId}))&&t.find((function(e){return e.id===q.classroomId})).roomName),o.a.createElement("h5",null,"Time: ","".concat(q.startTime," - ").concat(q.endTime)),o.a.createElement("h5",null,"Teacher:"," ",n.find((function(e){return e.id===q.teacher}))?n.find((function(e){return e.id===q.teacher})).teacherName:"No Teacher Found"),o.a.createElement("h5",null,"Subject: ",q.subject.label),o.a.createElement("h5",null,"Course: ",q.course.label),o.a.createElement("h5",null,"Year Level: ",q.yearLevel.label)),o.a.createElement(b.b,{initialValues:{studentId:""},validationSchema:O,onSubmit:F},(function(e){var t=e.values,a=e.errors,n=e.touched,r=e.handleSubmit;return o.a.createElement("form",{className:"needs-validation",onSubmit:r,noValidate:!0},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:Object(p.a)({"form-group col-md-6":!0,"invalid-field":a.studentId&&n.studentId})},o.a.createElement("label",{htmlFor:"studentId",className:"ul-form__label"},"Students:"),o.a.createElement(b.a,{name:"studentId",component:E.a,options:z,value:t.studentId,required:!0}),o.a.createElement("div",{className:"invalid-feedback"},"Student is required"))),o.a.createElement("div",{className:"custom-separator"})),o.a.createElement("div",{className:"card-footer"},o.a.createElement("div",{className:"mc-footer"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12 "},o.a.createElement(d.a,{disabled:B,className:" text-12 btn btn-primary m-1",type:"submit"},B&&o.a.createElement(f.a,{size:"sm",variant:"light",className:"mr-1",animation:"border"}),"Submit"),o.a.createElement("button",{type:"button",className:"btn btn-danger m-1",onClick:R},"Cancel"))))))}))))}},870:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}},877:function(e,t,a){"use strict";var n=a(3),r=a(6),c=a(15),s=a.n(c),i=a(0),l=a.n(i),o=a(23),u=l.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.variant,i=e.animation,u=e.size,m=e.children,d=e.as,f=void 0===d?"div":d,b=e.className,v=Object(r.a)(e,["bsPrefix","variant","animation","size","children","as","className"]),h=(a=Object(o.b)(a,"spinner"))+"-"+i;return l.a.createElement(f,Object(n.a)({ref:t},v,{className:s()(b,h,u&&h+"-"+u,c&&"text-"+c)}),m)}));u.displayName="Spinner",t.a=u},911:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(25),r=a(0),c=a.n(r),s=a(875),i=a(872);function l(e){var t=Object(i.c)(e.field.name),a=Object(n.a)(t,3),r=(a[0],a[1]),l=a[2],o=l.setValue,u=l.setTouched;return c.a.createElement(s.a,Object.assign({},e,{value:null===r||void 0===r?void 0:r.value,isMulti:!0,onChange:function(e){o(e)},onBlur:u}))}}}]);
//# sourceMappingURL=22.62511ef3.chunk.js.map