(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[41],{1257:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),c=a(11),i=a(25),s=a(0),o=a.n(s),l=a(109),u=a(34),m=a(36),d=a(872),f=a(51),b=(a(9),a(873)),v=a(22),p=a(875),h=function(e){var t=e.onChange,a=e.options,n=e.value,r=e.className;return o.a.createElement("div",{className:r},o.a.createElement(p.a,{value:function(e,t){return e?e.find((function(e){return e.value===t})):""}(a,n),onChange:function(e){t(e)},options:a}))},E=a(315),S=a(877),N=a(10),j=a(20),w=a.n(j),g=b.object().shape({timeSlot:b.string().required("Time Slot is required")});t.default=function(){var e=Object(s.useContext)(f.b),t=e.classrooms,a=e.classroomSlots,n=(e.user,e.teachers),b=(e.subjects,e.dispatch),p=e.token,j=Object(u.i)().id,y=Object(s.useState)(),C=Object(i.a)(y,2),O=C[0],T=C[1],x=a.find((function(e){return e.id===j})),D=a.filter((function(e){return e.id!==j&&e.resourceId===x.resourceId})).map((function(e){return{value:e.id,label:"".concat(t.find((function(t){return t.id===e.resourceId}))?t.find((function(t){return t.id===e.resourceId})).title:"No classroom found"," ").concat(e.startTime,"-").concat(e.endTime," Teacher:").concat(n.find((function(t){return t.id===e.teacher}))?n.find((function(t){return t.id===e.teacher})).teacherName:"No Teacher Found"," Subject:").concat(e.subject.label," Course:").concat(e.course.label)}})),k=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,i,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.timeSlot,i=a.find((function(e){return e.id===n})),s=x,o={slot1Id:i.id,slot1Start:s.startTime,slot1End:s.endTime,slot1StartDate:s.startDate,slot1EndDate:s.endDate,slot1Days:s.days,slot2Id:s.id,slot2Start:i.startTime,slot2End:i.endTime,slot2StartDate:i.startDate,slot2EndDate:i.endDate,slot2Days:i.days},w.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes,Swap it!"}).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=10;break}return e.prev=1,T(!0),e.next=5,Object(N.fb)(o,p)(b);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),T(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(s.Fragment,null,o.a.createElement(l.a,{routeSegments:[{name:"Occupied List",path:"/masterClass/list"},{name:"Swap for slot"}]}),o.a.createElement("div",{className:"card"},o.a.createElement(d.b,{initialValues:{timeSlot:""},validationSchema:g,onSubmit:k},(function(e){var t=e.values,a=e.errors,n=e.touched,r=e.handleSubmit,c=e.setFieldValue;return o.a.createElement("form",{className:"needs-validation",onSubmit:r,noValidate:!0},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:Object(v.a)({"form-group col-md-6":!0,"invalid-field":a.teacher&&n.teacher})},o.a.createElement("label",{htmlFor:"timeSlot",className:"ul-form__label"},"Choose Time Slot:"),o.a.createElement(h,{name:"timeSlot",options:D,onChange:function(e){return c("timeSlot",e.value)},value:t.timeSlot,required:!0}),o.a.createElement("div",{className:"invalid-feedback"},"Time Slot is required"))),o.a.createElement("div",{className:"custom-separator"})),o.a.createElement("div",{className:"card-footer"},o.a.createElement("div",{className:"mc-footer"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12 "},o.a.createElement(E.a,{disabled:O,className:"btn btn-primary m-1",type:"submit"},"Submit",O&&o.a.createElement(S.a,{size:"sm",variant:"light",className:"mr-1",animation:"border"})),o.a.createElement(m.a,{to:"/masterClass/list"},o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary m-1"},"Cancel")))))))}))))}},877:function(e,t,a){"use strict";var n=a(3),r=a(6),c=a(15),i=a.n(c),s=a(0),o=a.n(s),l=a(23),u=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.variant,s=e.animation,u=e.size,m=e.children,d=e.as,f=void 0===d?"div":d,b=e.className,v=Object(r.a)(e,["bsPrefix","variant","animation","size","children","as","className"]),p=(a=Object(l.b)(a,"spinner"))+"-"+s;return o.a.createElement(f,Object(n.a)({ref:t},v,{className:i()(b,p,u&&p+"-"+u,c&&"text-"+c)}),m)}));u.displayName="Spinner",t.a=u}}]);
//# sourceMappingURL=41.62b6c29e.chunk.js.map