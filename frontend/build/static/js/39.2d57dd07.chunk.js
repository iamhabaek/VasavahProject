(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[39],{1251:function(e,a,t){"use strict";t.r(a);var n=t(25),r=t(0),l=t.n(r),s=t(51),c=t(879),m=t(34),i=t(880),o=t(4),d=t.n(o),u=t(11),b=t(213),p=t(315),E=t(1246),f=t(877),N=t(872),h=t(873),v=t(22),g=t(20),w=t.n(g),x=t(55),y=t.n(x),j=(t(104),t(10)),O=h.object().shape({password:h.string().required("Password is required")}),k=function(e){var a=e.uid,t=e.name,c=Object(b.a)(e,["uid","name"]),i=Object(r.useContext)(s.b),o=i.token,h=i.dispatch,g=Object(r.useState)(!1),x=Object(n.a)(g,2),k=x[0],C=x[1],S=Object(r.useState)(!1),_=Object(n.a)(S,2),P=_[0],A=_[1],F=(Object(m.g)(),function(){C(!1)}),L=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.password,r=y.a.auth().currentUser,l=y.a.auth.EmailAuthProvider.credential(r.email,n),r.reauthenticateWithCredential(l).then(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"_admin",A(!0),Object(j.ib)(a,"_admin",o)(h);case 3:case"end":return e.stop()}}),e)})))).catch((function(e){w.a.fire("Failed!","Incorrect current password please try again","error"),console.log(e)})),A(!1);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(r.Fragment,null,l.a.createElement(p.a,{className:"text-capitalize",variant:"info",onClick:function(){return C(!0)}},t),l.a.createElement(E.a,Object.assign({show:k,onHide:F},c),l.a.createElement(N.b,{initialValues:{password:""},validationSchema:O,onSubmit:L},(function(e){var a=e.values,t=e.errors,n=e.touched,r=e.handleChange,s=e.handleBlur,c=e.handleSubmit;e.isSubmitting;return l.a.createElement("form",{className:"needs-validation",onSubmit:c,noValidate:!0},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,l.a.createElement("i",{className:"i-Lock-2"})," Authentication")),l.a.createElement(E.a.Body,null,l.a.createElement("span",null,"Please re-enter your password to proceed in making the user as admin."),l.a.createElement("div",{className:"form-row mt-2"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("div",{className:Object(v.a)({"mx-0":!0,"valid-field":!t.password&&n.password,"invalid-field":t.password&&n.password})},l.a.createElement("label",{htmlFor:"oldPassword",className:"font-weight-bold"},"Password"," ",l.a.createElement("span",{className:"text-danger font-weight-bold"},"*")),l.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",name:"password",value:a.password,onChange:r,onBlur:s,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},t.password))))),l.a.createElement(E.a.Footer,null,l.a.createElement(p.a,{variant:"danger",onClick:F},"Cancel"),l.a.createElement(p.a,{disabled:P,variant:"info",type:"submit"},P&&l.a.createElement(f.a,{as:"span",variant:"light",size:"sm",role:"status","aria-hidden":"true",animation:"border",className:"mr-1"}),"Save Changes")))}))))},C=function(e){var a=e.list,t=e.search;e.loading,e.handleDelete;return l.a.createElement(i.a,null,l.a.createElement(c.a,{lg:12,md:12,sm:8,xs:12,className:"mb-4"},l.a.createElement("div",{className:"card border-0"},l.a.createElement("div",{className:"card-body border-0"},l.a.createElement("table",{className:"table "},l.a.createElement("thead",null,l.a.createElement("tr",{className:"ul-widget6__tr--sticky-th"},["NAME","EMAIL","ROLE","ACTIONS"].map((function(e,a){return l.a.createElement("th",{key:a,scope:"col",className:"border-0 text-primary"},e)})))),0!==a.length&&l.a.createElement("tbody",null,a.filter((function(e){return""===t?e:e.name.toLowerCase().includes(t)})).map((function(e){return l.a.createElement("tr",{className:"border-bottom border-dotted",key:e.uid},l.a.createElement("td",{className:"border-0"},l.a.createElement("span",null,e.displayName)),l.a.createElement("td",{className:"border-0"},l.a.createElement("span",null,e.email)),l.a.createElement("td",{className:"border-0"},"_admin"===e.customClaims.role?"Admin":"Teacher"),l.a.createElement("td",{className:"border-0"},"_admin"!==e.customClaims.role&&l.a.createElement(k,{name:"Make an Admin",uid:e.uid})))}))))),0===a.length&&l.a.createElement("div",{className:"mx-auto border border-light rounded p-3 pb-0 mb-5"},l.a.createElement("p",{className:"text-center text-muted"},"No Data Found")))))},S=(t(334),t(161)),_=function(e){var a=e.list,t=(e.handleEdit,e.search);e.handleDelete,e.loading;return l.a.createElement("div",null,l.a.createElement(i.a,null,l.a.createElement(c.a,{lg:12,md:12,sm:8,xs:12,className:"mb-4"},l.a.createElement("div",{className:"row"},a.filter((function(e){return""===t?e:e.displayName.toLowerCase().includes(t)})).map((function(e){return l.a.createElement("div",{key:e.uid,className:"app-card text-sm col-lg-4 col-sm-4"},l.a.createElement("div",{className:" border-none shadow card"},l.a.createElement("div",{className:".d-block mx-auto mw-100 p-3"},l.a.createElement(S.a,{round:!0,size:80,name:e.displayName})),l.a.createElement("div",{style:{backgroundColor:"#E7E5F1"},className:".d-block mw-100 "},l.a.createElement("p",{className:"font-weight-bold text-15 text-center p-2"},"".concat(e.displayName))),l.a.createElement("div",{className:"d-flex flex-row justify-content-between py-2 px-2 align-items-center"},l.a.createElement("span",{className:"text-12 font-weight-bold "},"Email:"),l.a.createElement("span",{className:"text-12"},e.email)),l.a.createElement("div",{className:"d-flex flex-row justify-content-between py-2 px-2 align-items-center"},l.a.createElement("span",{className:"text-12 font-weight-semibold "},"Role:"),l.a.createElement("span",{className:"text-12"},"_admin"===e.customClaims.role?"Admin":"Teacher")),l.a.createElement("div",{className:"card-footer"},l.a.createElement("div",{className:"mc-footer"},l.a.createElement("div",{className:"d-flex flex-row justify-content-center align-items-center"},"_admin"!==e.customClaims.role&&l.a.createElement(k,{name:"Make an Admin",uid:e.uid}))))))})))),0===a.length&&l.a.createElement("div",{className:"d-flex justify-content-center p-3 pb-0 mb-5"},l.a.createElement("p",{className:"text-center text-muted"},"No Data Found"))))},P=t(109);a.default=function(){var e=Object(r.useContext)(s.b),a=e.users,t=(e.dispatch,e.user,e.token,Object(r.useState)("")),i=Object(n.a)(t,2),o=i[0],d=i[1],u=Object(r.useState)(!1),b=Object(n.a)(u,2),p=b[0],E=(b[1],Object(r.useState)(!0)),f=Object(n.a)(E,2),N=f[0],h=f[1],v=Object(r.useState)(!1),g=Object(n.a)(v,2),w=g[0],x=g[1];Object(m.g)();return l.a.createElement(r.Fragment,null,l.a.createElement(P.a,{routeSegments:[{name:"Home",path:"/"},{name:"Students List"}]}),l.a.createElement(c.a,{lg:12,md:12,sm:8,xs:12,className:"mb-4"},l.a.createElement("div",{className:"ul-widget__head border-0"},l.a.createElement("div",{className:"ul-widget__head-label"}),l.a.createElement("div",{className:"d-flex flex-row justify-content-end"},l.a.createElement("form",{className:"mr-5"},l.a.createElement("input",{className:"form-control ",type:"search",placeholder:"Search Here....",onChange:function(e){return d(e.target.value.toLowerCase())}})))),l.a.createElement("div",{className:"col-xl-12 mt-5"},l.a.createElement("div",{className:"text-right form-group"},l.a.createElement("label",{className:"text-dark"},"View By: "),l.a.createElement("div",{className:"btn-group ml-1"},l.a.createElement("button",{title:"ListView",onClick:function(){h(!1),x(!0)},className:w?"btn btn-primary btn-sm":"btn btn-outline-primary btn-sm"},l.a.createElement("i",{className:"i-Newspaper"})),l.a.createElement("button",{title:"Widgets",onClick:function(){x(!1),h(!0)},className:N?"btn btn-primary btn-sm":"btn btn-outline-primary btn-sm"},l.a.createElement("i",{className:"i-Split-Four-Square-Window"}))))),w&&l.a.createElement(C,{list:a,search:o,loading:p}),N&&l.a.createElement(_,{list:a,search:o,loading:p})))}},879:function(e,a,t){"use strict";var n=t(3),r=t(6),l=t(15),s=t.n(l),c=t(0),m=t.n(c),i=t(23),o=["xl","lg","md","sm","xs"],d=m.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,c=e.as,d=void 0===c?"div":c,u=Object(r.a)(e,["bsPrefix","className","as"]),b=Object(i.b)(t,"col"),p=[],E=[];return o.forEach((function(e){var a,t,n,r=u[e];if(delete u[e],null!=r&&"object"===typeof r){var l=r.span;a=void 0===l||l,t=r.offset,n=r.order}else a=r;var s="xs"!==e?"-"+e:"";null!=a&&p.push(!0===a?""+b+s:""+b+s+"-"+a),null!=n&&E.push("order"+s+"-"+n),null!=t&&E.push("offset"+s+"-"+t)})),p.length||p.push(b),m.a.createElement(d,Object(n.a)({},u,{ref:a,className:s.a.apply(void 0,[l].concat(p,E))}))}));d.displayName="Col",a.a=d},880:function(e,a,t){"use strict";var n=t(3),r=t(6),l=t(15),s=t.n(l),c=t(0),m=t.n(c),i=t(23),o=m.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.fluid,c=e.as,o=void 0===c?"div":c,d=e.className,u=Object(r.a)(e,["bsPrefix","fluid","as","className"]),b=Object(i.b)(t,"container"),p="string"===typeof l?"-"+l:"-fluid";return m.a.createElement(o,Object(n.a)({ref:a},u,{className:s()(d,l?""+b+p:b)}))}));o.displayName="Container",o.defaultProps={fluid:!1},a.a=o}}]);
//# sourceMappingURL=39.2d57dd07.chunk.js.map